import pandas as pd
import numpy as np
from datetime import datetime

def process_data(df):
    # This is a placeholder - replace with your actual analysis logic
    return {
        "kpis": {
            "total_sales": 15000,
            "avg_order_value": 125.50,
            "conversion_rate": 3.2,
            "top_product": "Widget X"
        },
        "charts": {
            "sales_trend": "base64_encoded_image_data",
            "category_distribution": "base64_encoded_image_data"
        },
        "insights": [
            "Sales increased by 15% month-over-month",
            "Category Y shows highest growth potential"
        ],
        "preview": [
            {"date": "2023-01-01", "product": "A", "quantity": 2, "price": 10},
            {"date": "2023-01-02", "product": "B", "quantity": 1, "price": 20}
        ]
    }